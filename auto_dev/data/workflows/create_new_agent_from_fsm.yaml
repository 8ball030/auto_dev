id: '2'
name: create_new_agent_from_fsm
description: A workflow to create a new agent from a finite state machine
tasks:
  - id: '1'
    name: Create Agent
    description: Create a new agent
    command: adev -v create ${public_id} --no-clean-up -t eightballer/base --no-publish

  - id: '2'
    name: Eject Metrics Skill
    description: Eject the metrics skill
    command: adev -v eject skill eightballer/metrics ${author}/metrics
    working_dir: ${agent_name}

  - id: '3'
    name: Augment Skill
    description: Augment the skill from FSM
    command: adev augment skill-from-fsm ${fsm} ${author}/metrics
    working_dir: ${agent_name}

  - id: '4'
    name: Publish Agent
    description: Publish the agent to the local packages
    command: adev publish eightballer/${agent_name}
    working_dir: ${agent_name}
