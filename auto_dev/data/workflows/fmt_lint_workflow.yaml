id: '2'
name: lint_and_fmt_workflow
description: A workflow to lint and format code
tasks:
  - id: '1'
    name: lint_code
    description: Lint the codebase
    command: poetry run adev -v -n 0 lint -p . -co

  - id: '2'
    name: format_code
    description: Format the codebase
    command: poetry run adev -n 0 fmt -p . -co
  
  - id: '3'
    name: Generate docs
    description: Generate documentation
    command: poetry run python scripts/generate_command_docs.py
    stream: False
  
  - id: '4'
    name: add_changes
    description: Add changes to git 
    command: git add auto_dev docs scripts tests

  - id: '5'
    name: commit_changes
    description: Commit changes to git
    command: git commit -m auto_dev:lint-and-format-code'


  - id: '6'
    name: push_changes
    description: Push changes to git
    command: git push origin $(git rev-parse --abbrev-ref HEAD)

